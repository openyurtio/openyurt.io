"use strict";(self.webpackChunkopenyurt_io=self.webpackChunkopenyurt_io||[]).push([[64426],{35093:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>u,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>a});var t=r(23887),s=r(74848),l=r(28453);const i={slug:"Build-side-efficient-collaborative-network",title:"\u5982\u4f55\u6784\u5efaKubernetes\u539f\u751f\u4e91\u8fb9\u9ad8\u6548\u534f\u540c\u7f51\u7edc",authors:["charleszheng44"],tags:["yurttunnel"]},u=void 0,c={authorsImageUrls:[void 0]},a=[{value:"Yurttunnel\u4f7f\u7528\u573a\u666f",id:"yurttunnel\u4f7f\u7528\u573a\u666f",level:2},{value:"\u53cd\u5411\u901a\u9053",id:"\u53cd\u5411\u901a\u9053",level:2},{value:"ANP\u5e76\u975e\u5f00\u7bb1\u5373\u7528",id:"anp\u5e76\u975e\u5f00\u7bb1\u5373\u7528",level:2},{value:"Yurttunnel\u8bbe\u8ba1\u89e3\u6790",id:"yurttunnel\u8bbe\u8ba1\u89e3\u6790",level:2},{value:"1.\u5236\u5b9aDNAT\u89c4\u5219\u8f6c\u53d1\u4e91\u7aef\u8282\u70b9\u7684\u8bf7\u6c42",id:"1\u5236\u5b9adnat\u89c4\u5219\u8f6c\u53d1\u4e91\u7aef\u8282\u70b9\u7684\u8bf7\u6c42",level:3},{value:"2.\u52a8\u6001\u83b7\u53d6Server\u526f\u672c\u6570",id:"2\u52a8\u6001\u83b7\u53d6server\u526f\u672c\u6570",level:3},{value:"3.\u4e3aANP\u6dfb\u52a0\u4ee3\u7406\u7b56\u7565",id:"3\u4e3aanp\u6dfb\u52a0\u4ee3\u7406\u7b56\u7565",level:3},{value:"4.\u52a8\u6001\u7533\u8bf7\u5b89\u5168\u8bc1\u4e66",id:"4\u52a8\u6001\u7533\u8bf7\u5b89\u5168\u8bc1\u4e66",level:3},{value:"5.\u538b\u7f29Tunnel\u5e26\u5bbd\uff0c\u8282\u7ea6\u6210\u672c",id:"5\u538b\u7f29tunnel\u5e26\u5bbd\u8282\u7ea6\u6210\u672c",level:3},{value:"\u603b\u7ed3\u548c\u5c55\u671b",id:"\u603b\u7ed3\u548c\u5c55\u671b",level:2}];function g(e){const n={a:"a",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u5bfc\u8bfb\uff1aOpenYurt\u662f\u963f\u91cc\u5df4\u5df4\u5f00\u6e90\u7684\u4e91\u8fb9\u534f\u540c\u4e00\u4f53\u5316\u67b6\u6784\uff0c\u4e0e\u540c\u7c7b\u5f00\u6e90\u65b9\u6848\u76f8\u6bd4\uff0cOpenYurt\u62e5\u6709\u53ef\u5b9e\u73b0\u8fb9\u7f18\u8ba1\u7b97\u5168\u573a\u666f\u8986\u76d6\u7684\u80fd\u529b\u3002"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["OpenYurt\u662f\u5982\u4f55\u5728\u5f31\u7f51\u548c\u65ad\u7f51\u73af\u5883\u4e0b\u5b9e\u73b0\u8fb9\u7f18\u81ea\u6cbb\u7684\u2014\u2014",(0,s.jsx)(n.a,{href:"/zh/blog/Edge-gateway-caching-capabilities",children:"YurtHub"})]}),"\n",(0,s.jsx)(n.li,{children:"OpenYurt\u53e6\u4e00\u4e2a\u6838\u5fc3\u80fd\u529b\u2014\u2014\u4e91\u8fb9\u901a\u4fe1\uff0c\u4ee5\u53ca\u76f8\u5173\u7ec4\u4ef6Yurttunnel"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"yurttunnel\u4f7f\u7528\u573a\u666f",children:"Yurttunnel\u4f7f\u7528\u573a\u666f"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u5e94\u7528\u7684\u90e8\u7f72\u548c\u8fd0\u7ef4\u8fc7\u7a0b\u4e2d\uff0c\u7528\u6237\u5e38\u5e38\u9700\u8981\u83b7\u53d6\u5e94\u7528\u7684\u65e5\u5fd7\uff0c\u6216\u76f4\u63a5\u767b\u5f55\u5230\u5e94\u7528\u7684\u8fd0\u884c\u73af\u5883\u4e2d\u8fdb\u884c\u8c03\u8bd5\u3002\u5728 Kubernetes \u73af\u5883\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4f7f\u7528 kubectl log\uff0ckubectl exec \u7b49\u6307\u4ee4\u6765\u5b9e\u73b0\u8fd9\u4e9b\u9700\u6c42\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5728 kubectl \u8bf7\u6c42\u94fe\u8def\u4e0a\uff0c kubelet \u5c06\u626e\u6f14\u670d\u52a1\u5668\u7aef\uff0c\u8d1f\u8d23\u5904\u7406\u7531 kube-apiserver(KAS) \u8f6c\u53d1\u6765\u7684\u8bf7\u6c42\uff0c\u8fd9\u5c31\u8981\u6c42 KAS \u548c kubelet \u4e4b\u95f4\u9700\u8981\u5b58\u5728\u4e00\u6761\u7f51\u7edc\u901a\u8def\uff0c\u5141\u8bb8 KAS \u4e3b\u52a8\u8bbf\u95ee kubelet\u3002\n",(0,s.jsx)(n.img,{alt:"image",src:r(68282).A+"",width:"530",height:"181"}),"\n\u7136\u800c\uff0c\u5728\u8fb9\u7f18\u8ba1\u7b97\u573a\u666f\u4e2d\uff0c\u8fb9\u7f18\u8282\u70b9\u5e38\u4f4d\u4e8e\u672c\u5730\u4e13\u6709\u7f51\u7edc\u4e2d\uff0c\u8fd9\u867d\u7136\u4fdd\u8bc1\u4e86\u8fb9\u7f18\u8282\u70b9\u7684\u5b89\u5168\uff0c\u4f46\u4e5f\u9020\u6210\u4f4d\u4e8e\u4e91\u7aef\u7ba1\u63a7\u8282\u70b9\u7684KAS\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u4f4d\u4e8e\u8fb9\u7f18\u8282\u70b9\u7684kubelet\u3002\u56e0\u6b64\uff0c\u4e3a\u4e86\u652f\u6301\u901a\u8fc7\u4e91\u7aef\u8282\u70b9\u5bf9\u8fb9\u7f18\u7aef\u5e94\u7528\u8fdb\u884c\u8fd0\u7ef4\u64cd\u4f5c\uff0c\u6211\u4eec\u5fc5\u987b\u5728\u4e91\u3001\u8fb9\u4e4b\u95f4\u5efa\u7acb\u53cd\u5411\u8fd0\u7ef4\u901a\u9053\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"\u53cd\u5411\u901a\u9053",children:"\u53cd\u5411\u901a\u9053"}),"\n",(0,s.jsx)(n.p,{children:"Yurttunnel\u662fOpenYurt\u8fd1\u671f\u5f00\u6e90\u7684\u4e00\u4e2a\u91cd\u8981\u7ec4\u4ef6\uff0c\u7528\u6765\u89e3\u51b3\u4e91\u8fb9\u901a\u4fe1\u95ee\u9898\u3002\u53cd\u5411\u901a\u9053\u662f\u89e3\u51b3\u8de8\u7f51\u7edc\u901a\u4fe1\u7684\u4e00\u79cd\u5e38\u89c1\u65b9\u5f0f\uff0c\u800c Yurttunnel \u7684\u672c\u8d28\u5c31\u662f\u4e00\u4e2a\u53cd\u5411\u901a\u9053\u3002\u4e00\u4e2a\u8fb9\u7f18\u96c6\u7fa4\u4e0b\u5c5e\u7684\u8282\u70b9\u5e38\u4f4d\u4e8e\u4e0d\u540c\u7684 network region \u4e2d\uff0c\u800c\u4f4d\u4e8e\u540c\u4e00\u4e2a region \u5185\u7684\u8282\u70b9\u4e4b\u95f4\u662f\u53ef\u4ee5\u76f8\u4e92\u901a\u4fe1\u7684\uff0c\u56e0\u6b64\u5728\u8bbe\u7f6e\u53cd\u5411\u901a\u9053\u65f6\uff0c\u6211\u4eec\u53ea\u9700\u4fdd\u8bc1\u5728\u6bcf\u4e2a region \u5185\u8bbe\u7f6e\u4e00\u4e2a\u4e0e proxy server \u76f8\u8fde\u7684 agent \u5373\u53ef\u3002\u5177\u4f53\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728\u7ba1\u63a7\u7ec4\u4ef6\u6240\u5728\u7f51\u7edc\u5185\uff0c\u90e8\u7f72 proxy server\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"proxy server \u5bf9\u5916\u5f00\u653e\u4e00\u4e2a\u516c\u7f51\u53ef\u4ee5\u8bbf\u95ee\u7684 IP\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728\u6bcf\u4e2a region \u90e8\u7f72\u4e2a agent\uff0c\u5e76\u901a\u8fc7 server \u7684\u516c\u7f51 IP \u4e0e server \u5efa\u7acb\u957f\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u7ba1\u63a7\u7ec4\u4ef6\u5bf9\u8fb9\u7f18\u8282\u70b9\u7684\u8bbf\u95ee\u8bf7\u6c42\u90fd\u5c06\u8f6c\u53d1\u81f4 proxy server\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"proxy server \u518d\u5c06\u8bf7\u6c42\u901a\u8fc7\u5bf9\u5e94\u7684\u957f\u8fde\u63a5\u53d1\u5f80\u76ee\u6807\u8282\u70b9\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"image",src:r(18106).A+"",width:"663",height:"456"}),"\n\u5728 Yurttunnel \u4e2d\uff0c\u6211\u4eec\u9009\u62e9\u4f7f\u7528\u4e0a\u6e38",(0,s.jsx)(n.a,{href:"https://github.com/kubernetes-sigs/apiserver-network-proxy",children:"\u9879\u76eeapiserver-network-proxy(ANP)"})," \u6765\u5b9e\u73b0server \u548c agent \u95f4\u7684\u901a\u4fe1\u3002ANP \u662f\u57fa\u4e8e kubernetes 1.16 Alpha \u65b0\u529f\u80fd",(0,s.jsx)(n.a,{href:"https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/apiserver/pkg/server/egressselector/egress_selector.go",children:"EgressSelector"})," \u5f00\u53d1\uff0c\u610f\u5728\u5b9e\u73b0 Kubernetes \u96c6\u7fa4\u7ec4\u4ef6\u7684\u8de8 intranet \u901a\u4fe1\uff08\u4f8b\u5982\uff0cmaster \u4f4d\u4e8e\u7ba1\u63a7 VPC\uff0c\u800c kubelet \u7b49\u5176\u4ed6\u7ec4\u4ef6\u4f4d\u4e8e\u7528\u6237 VPC\uff09\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u8bfb\u8005\u53ef\u80fd\u4f1a\u597d\u5947\uff0c\u65e2\u7136 OpenYurt \u662f\u57fa\u4e8e ACK@Edge \u5f00\u6e90\u7684\uff0c\u800c\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c ACK@Edge \u7684\u4e91\u8fb9\u8fd0\u7ef4\u901a\u9053\u4f7f\u7528\u7684\u662f\u81ea\u7814\u7ec4\u4ef6 tunnellib\uff0c\u90a3\u4e3a\u4ec0\u4e48\u5728\u5f00\u6e90\u7248\u672c\u91cc\u6211\u4eec\u8981\u9009\u7528\u4e00\u4e2a\u65b0\u7684\u7ec4\u4ef6\u5462\uff1f\u8fd9\u91cc\u4e0d\u5f97\u4e0d\u518d\u6b21\u63d0\u5230 OpenYurt \u7684\u6838\u5fc3\u8bbe\u8ba1\u7406\u5ff5 \u201cExtend upstream Kubernetes to Edge\u201d\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8bda\u7136\uff0ctunnellib \u7ecf\u8fc7\u4e86\u590d\u6742\u7ebf\u4e0a\u73af\u5883\u7684\u8003\u9a8c\uff0c\u7ec4\u4ef6\u6027\u80fd\u7a33\u5b9a\uff0c\u4f46\u6211\u4eec\u66f4\u5e0c\u671b\u80fd\u4e0e\u4e0a\u6e38\u4fdd\u6301\u6700\u5927\u7684\u6280\u672f\u516c\u7ea6\u6570\uff0c\u8ba9 OpenYurt \u7684\u7528\u6237\u4f53\u9a8c\u66f4\u63a5\u8fd1\u539f\u751f Kubernetes \uff1b\u540c\u65f6\uff0c\u5728 ACK@Edge \u7684\u5f00\u53d1\u548c\u8fd0\u7ef4\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u8fb9\u7f18\u96c6\u7fa4\u7684\u8bb8\u591a\u9700\u6c42\u4e5f\u540c\u6837\u5b58\u5728\u4e8e\u5176\u4ed6\u573a\u666f\u4e2d\uff08\u4f8b\u5982\uff0c\u5927\u591a\u6570\u4e91\u5382\u5546\u4e5f\u9700\u8981\u5b9e\u73b0\u8282\u70b9\u8de8\u7f51\u7edc\u901a\u4fe1\uff09\uff0c\u5e76\u4e14\u8fd0\u7ef4\u901a\u9053\u7684\u4f20\u8f93\u6548\u7387\u4e5f\u80fd\u8fdb\u4e00\u6b65\u4f18\u5316\uff084.5\u7ae0\u5c06\u8be6\u8ff0\u4f18\u5316\u8fc7\u7a0b\uff09\u3002\u56e0\u6b64\uff0c\u79c9\u627f\u5f00\u653e\u5206\u4eab\u3001\u5e73\u7b49\u666e\u60e0\u7684\u5f00\u6e90\u7cbe\u795e\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u5c06\u5f00\u53d1\u548c\u8fd0\u7ef4\u8fc7\u7a0b\u4e2d\u79ef\u7d2f\u7684\u7684\u5b9d\u8d35\u7ecf\u9a8c\u5728\u4e0a\u6e38\u793e\u533a\u4e0e\u66f4\u591a\u7684\u5f00\u53d1\u8005\u5206\u4eab\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"anp\u5e76\u975e\u5f00\u7bb1\u5373\u7528",children:"ANP\u5e76\u975e\u5f00\u7bb1\u5373\u7528"}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u800c ANP \u9879\u76ee\u4ecd\u5904\u4e8e\u8d77\u6b65\u9636\u6bb5\uff0c\u529f\u80fd\u5c1a\u672a\u5b8c\u5584\uff0c\u8bb8\u591a\u95ee\u9898\u4ecd\u6709\u5f85\u89e3\u51b3\u3002\u6211\u4eec\u4ece\u5b9e\u8df5\u4e2d\u53d1\u73b0\u7684\u4e3b\u8981\u95ee\u9898\u5305\u62ec\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5982\u4f55\u8f6c\u53d1\u4e91\u7aef\u8282\u70b9\u7684\u8bf7\u6c42 -- \u53cd\u5411\u901a\u9053\u6b63\u5e38\u5de5\u4f5c\u7684\u4e00\u4e2a\u524d\u63d0\u662f\uff0c\u7ba1\u63a7\u8282\u70b9\u53d1\u5f80\u8fb9\u7f18\u8282\u70b9\u7684\u8bf7\u6c42\u5fc5\u987b\u5148\u7ecf\u8fc7 proxy server\u3002\u5bf9\u4e8e Kubernetes 1.16 + \u7248\u672c\uff0cKAS \u80fd\u501f\u7531 EgressSelector \u5c06\u53d1\u5f80\u8282\u70b9\u7684\u8bf7\u6c42\u5148\u53d1\u5f80\u6307\u5b9a\u7684 proxy server\u3002\u4f46\u5bf9\u4e8e 1.16 \u4ee5\u524d\u7684\u7248\u672c\uff0cKAS \u53ca\u5176\u4ed6\u7ba1\u63a7\u7ec4\u4ef6\uff08Prometheus \u548c metrics server\uff09\u53ea\u80fd\u76f4\u63a5\u8bbf\u95ee\u8282\u70b9\uff0c\u800c\u4e0d\u80fd\u7ed5\u9053 proxy server\u3002\u53ef\u4ee5\u9884\u89c1\u7684\u662f\uff0c\u90e8\u5206\u7528\u6237\u5728\u77ed\u671f\u5185\uff0c\u4ecd\u5c06\u4f7f\u7528 1.16 \u4ee5\u524d\u7684\u7248\u672c\uff0c\u5e76\u4e14 Prometheus \u548c metrics server \u7b49\u7ba1\u63a7\u7ec4\u4ef6\u5728\u77ed\u671f\u5185\u4e5f\u6ca1\u6709\u652f\u6301 EgressSelector \u7684\u8ba1\u5212\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u8981\u89e3\u51b3\u7684\u7b2c\u4e00\u4e2a\u95ee\u9898\u662f\uff0c\u5982\u4f55\u5c06\u7ba1\u63a7\u7ec4\u4ef6\u53d1\u5f80\u8282\u70b9\u7684\u8bf7\u6c42\u8f6c\u53d1\u81f4 proxy server\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5982\u4f55\u786e\u4fdd server \u526f\u672c\u8986\u76d6\u6240\u6709\u7684 region -- \u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u4e00\u4e2a\u8fb9\u7f18\u96c6\u7fa4\u5e38\u5e38\u5305\u542b\u4e0a\u4e07\u4e2a\u8282\u70b9\uff0c\u5e76\u540c\u65f6\u670d\u52a1\u4e0a\u767e\u540d\u7528\u6237\uff0c\u5982\u679c\u4e00\u4e2a\u96c6\u7fa4\u53ea\u6709\u4e00\u4e2a proxy server\uff0c \u90a3\u4e48\uff0c\u4e00\u65e6 proxy server \u51fa\u73b0\u6545\u969c\uff0c\u6240\u6709\u7528\u6237\u90fd\u5c06\u65e0\u6cd5\u5bf9\u4f4d\u4e8e\u8fb9\u7f18\u8282\u70b9\u4e0a\u7684 pod \u8fdb\u884c\u64cd\u4f5c\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u540c\u65f6\u90e8\u7f72\u591a\u4e2a proxy server \u526f\u672c\u4ee5\u4fdd\u8bc1\u96c6\u7fa4\u9ad8\u53ef\u7528\u3002\u540c\u65f6\uff0cproxy server \u7684\u5de5\u4f5c\u8d1f\u8377\u5c06\u968f\u7740\u8bbf\u95ee\u6d41\u91cf\u7684\u589e\u5927\u800c\u589e\u5927\uff0c\u7528\u6237\u7684\u8bbf\u95ee\u5ef6\u65f6\u4e5f\u52bf\u5fc5\u589e\u52a0\u3002\u56e0\u6b64\u5728\u90e8\u7f72 proxy server \u65f6\uff0c\u6211\u4eec\u8fd8\u9700\u8003\u8651\u5982\u4f55\u5bf9 proxy server \u8fdb\u884c\u6c34\u5e73\u62d3\u5c55\uff0c\u4ee5\u5e94\u5bf9\u9ad8\u5e76\u53d1\u573a\u666f\u3002\u4e00\u4e2a\u5e94\u5bf9\u5355\u70b9\u6545\u969c\u548c\u9ad8\u5e76\u53d1\u573a\u666f\u7684\u7ecf\u5178\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u90e8\u7f72\u591a\u4e2a proxy server \u526f\u672c\uff0c\u5e76\u4f7f\u7528\u8d1f\u8f7d\u5747\u8861\u8fdb\u884c\u6d41\u91cf\u5206\u53d1\u3002\u7136\u800c\u5728 OpenYurt \u573a\u666f\u4e0b\uff0c\u5bf9\u4e8e KAS \u53d1\u6765\u7684\u4efb\u610f\u8bf7\u6c42\uff0cLoadBalancer (LB) \u4f1a\u8f6c\u53d1\u7ed9\u54ea\u4e2a server \u526f\u672c\u662f\u4e0d\u53ef\u63a7\u7684\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u89e3\u51b3\u7684\u7b2c\u4e8c\u4e2a\u95ee\u9898\u662f\uff0c\u5982\u4f55\u4fdd\u8bc1\u6bcf\u4e2a server \u526f\u672c\u90fd\u80fd\u4e0e\u6240\u6709\u7684 agent \u5efa\u7acb\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5982\u4f55\u5c06\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u6b63\u786e\u7684 agent -- \u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0cproxy server \u5728\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u9700\u6839\u636e\u8bf7\u6c42\u7684 destination IP\uff0c\u5c06\u8bf7\u6c42\u8f6c\u53d1\u81f3\u4f4d\u4e8e\u5bf9\u5e94 network region \u5185\u7684 agent\u3002\u7136\u800c\uff0cANP\u76ee\u524d\u7684\u5b9e\u73b0\uff0c\u5047\u8bbe\u6240\u6709\u7684\u8282\u70b9\u90fd\u4f4d\u4e8e\u4e00\u4e2a\u7f51\u7edc\u7a7a\u95f4\u5185\uff0c server \u4f1a\u968f\u673a\u6311\u9009\u4e00\u4e2a agent \u8f6c\u53d1\u8bf7\u6c42\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u89e3\u51b3\u7684\u7b2c\u4e09\u4e2a\u95ee\u9898\u662f\uff0c\u5982\u4f55\u5c06\u8bf7\u6c42\u6b63\u786e\u5730\u8f6c\u53d1\u7ed9\u6307\u5b9a\u7684 agent\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5982\u4f55\u89e3\u9664\u7ec4\u4ef6\u5bf9\u8282\u70b9\u8bc1\u4e66\u7684\u4f9d\u8d56 -- \u5728\u8fd0\u884c\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4e3a server \u63d0\u4f9b\u4e00\u5957 TLS \u8bc1\u4e66\uff0c\u4ee5\u5b9e\u73b0 server \u4e0e KAS\uff0cserver \u4e0e agent \u95f4\u7684\u5b89\u5168\u901a\u4fe1\u3002\u540c\u65f6\uff0c\u6211\u4eec\u4e5f\u9700\u8981\u4e3a agent \u51c6\u5907\u4e00\u5957 TLS client \u8bc1\u4e66\uff0c\u7528\u4ee5\u5efa\u7acb agent \u548c server \u95f4\u7684 gRPC \u4fe1\u9053\u3002ANP \u76ee\u524d\u7684\u5b9e\u73b0\uff0c\u8981\u6c42 server \u5fc5\u987b\u548c KAS \u90e8\u7f72\u5728\u540c\u4e00\u4e2a\u8282\u70b9\u4e0a\uff0c\u5e76\u4e14\u5728\u542f\u52a8\u65f6\u6302\u8f7d\u8282\u70b9 volume \u5171\u4eab KAS tls \u8bc1\u4e66\u3002\u540c\u6837\uff0cagent \u4e5f\u9700\u8981\u5728\u542f\u52a8\u65f6\u6302\u8f7d volume \u5171\u4eab kubelet tls \u8bc1\u4e66\u3002\u8fd9\u65e0\u5f62\u4e2d\u964d\u4f4e\u4e86\u90e8\u7f72\u7684\u7075\u6d3b\u6027\uff0c\u9020\u6210\u4e86\u7ec4\u4ef6\u5bf9\u8282\u70b9\u8bc1\u4e66\u7684\u5f3a\u4f9d\u8d56\uff0c\u5728\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u53ef\u80fd\u5e0c\u671b\u5c06 server \u90e8\u7f72\u5728\u975e KAS \u6240\u5728\u8282\u70b9\u4e0a\u3002\u56e0\u6b64\uff0c\u53e6\u4e00\u4e2a\u9700\u8981\u5173\u6ce8\u7684\u95ee\u9898\u662f\uff0c\u5982\u4f55\u89e3\u9664\u7ec4\u4ef6\u5bf9\u8282\u70b9\u8bc1\u4e66\u7684\u4f9d\u8d56\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5982\u4f55\u7f29\u5c0f Tunnel \u5e26\u5bbd -- ANP \u7684\u4e00\u4e2a\u6838\u5fc3\u8bbe\u8ba1\u601d\u60f3\uff0c\u662f\u4f7f\u7528 gRPC \u5c01\u88c5 KAS \u6240\u6709\u5bf9\u5916 HTTP \u8bf7\u6c42\u3002\u8fd9\u91cc\u9009\u62e9 gRPC\uff0c\u4e3b\u8981\u662f\u770b\u91cd\u5176\u5bf9\u6d41\uff08stream\uff09\u7684\u652f\u6301\u548c\u6e05\u6670\u7684\u63a5\u53e3\u89c4\u8303\uff0c\u6b64\u5916\uff0c\u5f3a\u7c7b\u578b\u7684\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u7aef\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u8fd0\u884c\u65f6\u9519\u8bef\uff0c\u63d0\u9ad8\u7cfb\u7edf\u7a33\u5b9a\u6027\u3002\u7136\u800c\uff0c\u6211\u4eec\u4e5f\u53d1\u73b0\uff0c\u76f8\u8f83\u4e8e\u76f4\u63a5\u4f7f\u7528 TCP \u534f\u8bae\uff0c\u91c7\u7528 ANP \u4e5f\u4f1a\u5e26\u6765\u989d\u5916\u7684\u5f00\u9500\u589e\u52a0\u5e26\u5bbd\u3002\u4ece\u4ea7\u54c1\u5c42\u9762\u8003\u8651\uff0cTunnel \u6d41\u91cf\u8d70\u7684\u662f\u516c\u7f51\uff0c\u5e26\u5bbd\u7684\u589e\u52a0\u4e5f\u610f\u5473\u7740\u7528\u6237\u6210\u672c\u7684\u589e\u52a0\u3002\u56e0\u6b64\uff0c\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u95ee\u9898\u662f\uff0c\u5728\u63d0\u9ad8\u7cfb\u7edf\u7a33\u5b9a\u6027\u7684\u540c\u65f6\uff0c\u6211\u4eec\u662f\u5426\u4e5f\u80fd\u7f29\u5c0f\u5e26\u5bbd\uff1f"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"yurttunnel\u8bbe\u8ba1\u89e3\u6790",children:"Yurttunnel\u8bbe\u8ba1\u89e3\u6790"}),"\n",(0,s.jsx)(n.h3,{id:"1\u5236\u5b9adnat\u89c4\u5219\u8f6c\u53d1\u4e91\u7aef\u8282\u70b9\u7684\u8bf7\u6c42",children:"1.\u5236\u5b9aDNAT\u89c4\u5219\u8f6c\u53d1\u4e91\u7aef\u8282\u70b9\u7684\u8bf7\u6c42"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u524d\u6587\u6240\u8ff0\uff0cANP \u662f\u57fa\u4e8e\u4e0a\u6e38\u65b0\u529f\u80fd EgressSelector \u5f00\u53d1\u7684\uff0c\u8be5\u529f\u80fd\u5141\u8bb8\u7528\u6237\u5728\u542f\u52a8 KAS \u65f6\u901a\u8fc7\u4f20\u5165 egress configuration \u6765\u8981\u6c42 KAS \u5c06 egress \u8bf7\u6c42\u8f6c\u53d1\u5230\u6307\u5b9a\u7684 proxy server\u3002\u4f46\u7531\u4e8e\u6211\u4eec\u9700\u8981\u517c\u987e\u65b0\u8001\u7248\u672c\u7684 Kubernetes \u96c6\u7fa4\uff0c\u5e76\u4e14\u8003\u8651\u5230\uff0c\u5176\u4ed6\u7ba1\u63a7\u7ec4\u4ef6\uff08Prometheus \u548c metric server\uff09\u5e76\u4e0d\u652f\u6301 EgressSelector \u7279\u6027\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u8bc1\u5728\u65e0\u6cd5\u4f7f\u7528 EgressSelector \u7684\u60c5\u51b5\u4e0b\u4e5f\u80fd\u5c06 KAS egress \u8bf7\u6c42\u8f6c\u53d1\u81f4 proxy server\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5728\u6bcf\u4e00\u4e2a\u4e91\u7aef\u7ba1\u63a7\u8282\u70b9\u4e0a\u90fd\u90e8\u7f72\u4e00\u4e2a Yurttunnel Server \u526f\u672c\uff0c\u5e76\u5728 Server \u4e2d\u5185\u5d4c\u4e00\u4e2a\u65b0\u7ec4\u4ef6 Iptabel Manager\u3002Iptable Manager \u4f1a\u901a\u8fc7\u5728\u5bbf\u4e3b\u673a\u7684 Iptable \u4e2d\u7684 OUTPUT \u94fe\u4e2d\u6dfb\u52a0 DNAT \u89c4\u5219\uff0c\u5c06\u7ba1\u63a7\u7ec4\u4ef6\u5bf9\u8282\u70b9\u7684\u8bf7\u6c42\u8f6c\u53d1\u81f4 Yurttunnel Server\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u540c\u65f6\uff0c\u5f53\u542f\u7528 EgressSelector \u540e\uff0cKAS \u5bf9\u5916\u8bf7\u6c42\u90fd\u9075\u5faa\u4e00\u4e2a\u7edf\u4e00\u7684\u683c\u5f0f\uff0c\u56e0\u6b64\u6211\u4eec\u65b0\u589e\u4e00\u4e2a\u7ec4\u4ef6\uff0c ANP interceptor\u3002ANP interceptor \u4f1a\u8d1f\u8d23\u622a\u53d6\u4ece master \u53d1\u6765\u7684 http \u8bf7\u6c42\uff0c\u5e76\u5c06\u5176\u5c01\u88c5\u6210 EgressSelector \u683c\u5f0f\u3002Yurttunnel \u8bf7\u6c42\u8f6c\u53d1\u7684\u5177\u4f53\u6d41\u7a0b\u89c1\u56fe\u4e09\u3002\n",(0,s.jsx)(n.img,{alt:"image",src:r(46284).A+"",width:"410",height:"571"})]}),"\n",(0,s.jsx)(n.h3,{id:"2\u52a8\u6001\u83b7\u53d6server\u526f\u672c\u6570",children:"2.\u52a8\u6001\u83b7\u53d6Server\u526f\u672c\u6570"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4e0a\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u63d0\u5230\uff0c\u6211\u4eec\u5c06\u91c7\u7528\u8d1f\u8f7d\u5747\u8861\u7684\u65b9\u5f0f\u6765\u7ba1\u7406yurttunnel server\uff0c\u6240\u6709\u7684ingress\u8bf7\u6c42\u90fd\u4f1a\u901a\u8fc7LB\u5206\u53d1\u7ed9\u4e00\u4e2aserver\u526f\u672c\u3002\u7531\u4e8e\u6211\u4eec\u65e0\u6cd5\u9884\u6d4bLB\u4f1a\u6311\u9009\u54ea\u4e2aserver\u526f\u672c\uff0c\u6211\u4eec\u5fc5\u987b\u4fdd\u8bc1\u6bcf\u4e2a server \u526f\u672c\u90fd\u8981\u4e0e\u6240\u6709\u7684 agent \u5efa\u7acb\u8fde\u63a5\u3002\u8fd9\u91cc\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 ANP \u81ea\u5e26\u7684\u529f\u80fd\u5b9e\u73b0\u8fd9\u4e00\u9700\u6c42\uff0c\u5177\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728\u542f\u52a8 yurttunnel server \u65f6\uff0c\u6211\u4eec\u4f1a\u5c06\u526f\u672c\u6570\uff08serverCount\uff09\u4f20\u5165\u6bcf\u4e2a server \u526f\u672c\u4e2d\uff0c\u5e76\u4e14\u4e3a\u6bcf\u4e2a\u526f\u672c\u6307\u5b9a\u4e00\u4e2a server ID\uff1b"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"agent \u8fde\u63a5 LB \u540e\uff0cLB\u4f1a\u968f\u673a\u9009\u62e9\u4e00\u4e2a server \u526f\u672c\u5e76\u8ba9\u5176\u4e0e agent \u5efa\u7acb\u957f\u8fde\u63a5\uff1b"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u4e0e\u6b64\u540c\u65f6\uff0cserver \u4f1a\u901a\u8fc7\u8be5\u901a\u9053\u5411 agent \u8fd4\u56de\u4e00\u4e2a ACK package\uff0c\u8fd9\u4e2a package \u4e2d\u5c06\u5305\u542b serverCount \u548c serverID\uff1b"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"agent \u901a\u8fc7\u89e3\u6790 ACK package\uff0c\u53ef\u4ee5\u83b7\u6089 server \u526f\u672c\u7684\u4e2a\u6570\uff0c\u5e76\u5728\u672c\u5730\u8bb0\u5f55\u5df2\u8fde\u63a5\u7684 serverID\uff1b"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5982\u679c agent \u53d1\u73b0\uff0c\u672c\u5730\u8fde\u63a5\u7684 server \u526f\u672c\u6570\u5c0f\u4e8e serverCount\uff0c\u5219\u4f1a\u518d\u6b21\u5411 LB \u53d1\u9001\u8fde\u63a5\u8bf7\u6c42\uff0c\u76f4\u81f3\u672c\u5730\u8bb0\u5f55\u7684 serverID \u6570\u4e0e server Count \u6570\u4e00\u81f4\u4e3a\u6b62\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u8be5\u673a\u5236\u867d\u7136\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u4e86server\u526f\u672c\u7684\u5168\u7f51\u6bb5\u8986\u76d6\u3002\u4f46\u540c\u65f6\uff0c\u4e5f\u5b58\u5728\u4e0d\u53ef\u5ffd\u89c6\u7684\u7f3a\u70b9\uff0c\u7531\u4e8e agent \u65e0\u6cd5\u9009\u62e9\u4e0e\u54ea\u4e2a server \u526f\u672c\u5efa\u7acb\u8fde\u63a5\uff0c\u56e0\u6b64\uff0c\u4e3a\u4e86\u8fde\u63a5\u6240\u6709\u7684 server \u526f\u672c\uff0cagent \u5fc5\u987b\u53cd\u590d\u8bbf\u95ee LB\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0cserver \u7531\u4e8e\u8fd8\u6ca1\u6709\u4e0e\u6240\u6709\u7684 agent \u5efa\u7acb\u8fde\u63a5\uff0cKAS \u53d1\u6765\u7684\u8bf7\u6c42\u53ef\u80fd\u65e0\u6cd5\u8f6c\u53d1\u81f3\u5bf9\u5e94\u7684\u8282\u70b9\u3002\u4e00\u4e2a\u6f5c\u5728\u7684\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u4e3a\u6bcf\u4e2a server\u526f\u672c\u521b\u5efa\u4e00\u4e2a\u72ec\u7acb\u7684 LB\uff0c\u8d1f\u8d23\u4e0e agent \u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u540c\u65f6\u5728agent\u7aef\u8bb0\u5f55\u6240\u6709 server\u526f\u672c\u5bf9\u5e94 LB \u7684\u4fe1\u606f\uff0c\u8fd9\u4e00\u65b9\u6848\u80fd\u5e2e\u52a9 agent \u5feb\u901f\u5730\u4e0e\u6240\u6709\u7684 server \u526f\u672c\u5efa\u7acb\u8fde\u63a5\u3002\u8be5\u65b9\u6848\u7684\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\uff0c\u76ee\u524d\u4ecd\u5728\u4e0e\u4e0a\u6e38\u793e\u533a\u7684\u5f00\u53d1\u8005\u8ba8\u8bba\u4e2d\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"3\u4e3aanp\u6dfb\u52a0\u4ee3\u7406\u7b56\u7565",children:"3.\u4e3aANP\u6dfb\u52a0\u4ee3\u7406\u7b56\u7565"}),"\n",(0,s.jsx)(n.p,{children:"\u5728OpenYurt\u7684\u7f51\u7edc\u6a21\u578b\u4e0b\uff0c\u8fb9\u7f18\u8282\u70b9\u5206\u5e03\u5728\u4e0d\u540c\u7684network region\u4e2d\uff0c\u968f\u673a\u9009\u62e9\u7684 agent \u53ef\u80fd\u65e0\u6cd5\u5c06\u8bf7\u6c42\u8f6c\u53d1\u81f3\u4f4d\u4e8e\u5176\u4ed6 region \u5185\u7684\u8282\u70b9\u4e0a\u3002\u56e0\u6b64\u6211\u4eec\u4e0d\u5f97\u4e0d\u4fee\u6539 ANP server \u5e95\u5c42\u4ee3\u7406\u8f6c\u53d1\u7684\u903b\u8f91\u3002\u7136\u800c\uff0c\u6839\u636e\u957f\u671f\u7684\u7ecf\u9a8c\uff0c\u6211\u4eec\u76f8\u4fe1\uff0cproxy server \u652f\u6301\u4e0d\u540c\u7684\u4ee3\u7406\u7b56\u7565\uff0c\u4f8b\u5982\uff0c\u5c06\u8bf7\u6c42\u8f6c\u53d1\u81f3\u6307\u5b9a\u6570\u636e\u4e2d\u5fc3\uff0cregion\uff0c\u6216\u8005\u6307\u5b9a\u4e3b\u673a\uff0c\u662f\u4e00\u4e2a\u8f83\u4e3a\u901a\u7528\u7684\u9700\u6c42\u3002\u7ecf\u8fc7\u548c ANP \u793e\u533a\u5f00\u53d1\u8005\u8ba8\u8bba\uff0c\u6211\u4eec\u51b3\u5b9a\u91cd\u6784 ANP \u7ba1\u7406 agent \u8fde\u63a5\u7684\u63a5\u53e3\uff0c\u5141\u8bb8\u7528\u6237\u6839\u636e\u9700\u6c42\u5b9e\u73b0\u65b0\u7684\u4ee3\u7406\u7b56\u7565\uff0c\u5e76\u8ba1\u5212\u5c06\u8be5 feature \u6700\u7ec8\u5408\u5165\u4e0a\u6e38\u4ee3\u7801\u5e93\u3002\u76ee\u524d\u91cd\u6784\u5de5\u4f5c\u4ecd\u5728\u8fdb\u884c\u4e2d\uff0c\u5728 Yurttunnel \u7b2c\u4e00\u4e2a\u5f00\u6e90\u7248\u672c\u4e2d\uff0c\u6211\u4eec\u6682\u65f6\u91c7\u7528\u4ee5\u4e0b\u914d\u7f6e\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728\u6bcf\u4e2a\u8fb9\u7f18\u8282\u70b9\u4e0a\u90e8\u7f72\u4e00\u4e2a agent\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"agent \u5728 server \u5904\u767b\u8bb0\u65f6\uff0c\u4f7f\u7528 agent \u6240\u5728\u8282\u70b9\u7684 IP \u4f5c\u4e3a agentID\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"server \u5728\u8f6c\u53d1\u8bf7\u6c42\u65f6\uff0c\u901a\u8fc7\u5339\u914d\u8bf7\u6c42\u76ee\u6807 IP \u548c agentID\uff0c\u5c06\u8bf7\u6c42\u8f6c\u53d1\u81f3\u5bf9\u5e94\u7684 agent\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4eec\u8ba1\u5212\u5728OpenYurt\u540e\u7eed\u53d1\u5e03Yurt Unit\uff08\u8fb9\u7f18\u8282\u70b9\u5206\u533a\u7ba1\u63a7\uff09\u4e4b\u540e\uff0c\u914d\u5408\u65b0\u589e\u7684ANP\u4ee3\u7406\u8f6c\u53d1\u7b56\u7565\uff0c\u5b9e\u73b0agent\u7684\u5206\u533a\u90e8\u7f72\uff0c\u548c\u8bf7\u6c42\u7684\u5206\u533a\u8f6c\u53d1\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"4\u52a8\u6001\u7533\u8bf7\u5b89\u5168\u8bc1\u4e66",children:"4.\u52a8\u6001\u7533\u8bf7\u5b89\u5168\u8bc1\u4e66"}),"\n",(0,s.jsx)(n.p,{children:"\u4e3a\u4e86\u89e3\u9664yurttunnel\u7ec4\u4ef6\u5bf9\u8282\u70b9\u8bc1\u4e66\u7684\u4f9d\u8d56\uff0c\u6211\u4eec\u5728yurttunnel\u4e2d\u65b0\u589ecert manager\u7ec4\u4ef6\uff0ccert manager\u4f1a\u5728server\u548cagent\u8fd0\u884c\u540e\uff0c\u5411KAS\u63d0\u4ea4certificate signning request(CSR)\u3002server \u5c06\u4f7f\u7528\u7533\u8bf7\u5230\u7684\u8bc1\u4e66\u6765\u786e\u4fdd\u5176\u4e0e KAS \u548c agent \u95f4\u7684\u5b89\u5168\u901a\u4fe1\uff0cagent \u4f1a\u4f7f\u7528\u7533\u8bf7\u5230\u7684\u8bc1\u4e66\u786e\u4fdd\u5176\u4e0e server \u95f4 gRPC \u4fe1\u9053\u7684\u5b89\u5168\u3002\u7531\u4e8e agent \u548c kubelet \u95f4\u662f\u901a\u8fc7 tcp \u534f\u8bae\u8fde\u63a5\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u65e0\u9700\u4e3a agent \u548c kubelet \u95f4\u7684\u8fde\u63a5\u51c6\u5907\u8bc1\u4e66\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"5\u538b\u7f29tunnel\u5e26\u5bbd\u8282\u7ea6\u6210\u672c",children:"5.\u538b\u7f29Tunnel\u5e26\u5bbd\uff0c\u8282\u7ea6\u6210\u672c"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4e0a\u6587\uff0c\u6211\u4eec\u63d0\u5230\uff0c\u4f7f\u7528gRPC\u5c01\u88c5Tunnel\u867d\u7136\u53ef\u4ee5\u63d0\u9ad8\u4f20\u8f93\u7a33\u5b9a\u6027\uff0c\u4f46\u540c\u65f6\u4e5f\u4f1a\u589e\u52a0\u516c\u7f51\u6d41\u91cf\u3002\u8fd9\u662f\u5426\u610f\u5473\u7740\u7a33\u5b9a\u6027\u548c\u6027\u80fd\uff0c\u6211\u4eec\u53ea\u80fd\u4e8c\u9009\u4e00\uff1f\u901a\u8fc7\u5bf9\u4e0d\u540c\u7528\u6237\u573a\u666f\u7684\u5206\u6790\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u4f7f\u7528\u8fd0\u7ef4\u901a\u9053\u662f\u4e3a\u4e86\u83b7\u53d6\u5bb9\u5668\u65e5\u5fd7\uff08\u5373 kubectl log\uff09\uff0c\u800c\u4f20\u7edf\u65e5\u5fd7\u6587\u4ef6\uff0c\u5b58\u5728\u8bb8\u591a\u76f8\u540c\u7684\u6587\u672c\u4fe1\u606f\uff0c\u56e0\u6b64\u6211\u4eec\u63a8\u65ad\u4f7f\u7528 gzip \u7b49\u538b\u7f29\u7b97\u6cd5\u80fd\u6709\u6548\u7f29\u5c0f\u5e26\u5bbd\u3002\u4e3a\u4e86\u9a8c\u8bc1\u8fd9\u4e00\u5047\u8bbe\uff0c\u6211\u4eec\u5728 ANP \u5e95\u5c42\u7684 gRPC \u5e93\u4e2d\u6dfb\u52a0\u4e86 gzip compressor\uff0c\u5e76\u4e14\u5bf9\u6bd4\u4e86\u4e0e\u4f7f\u7528\u539f\u751f TCP \u8fde\u63a5\u573a\u666f\u4e0b\u7684\u6570\u636e\u4f20\u8f93\u91cf\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4eec\u8003\u8651\u7684\u7b2c\u4e00\u4e2a\u5b9e\u9a8c\u573a\u666f\u662f\uff0c\u5206\u522b\u901a\u8fc7 TCP \u8fde\u63a5\u548c ANP \u83b7\u53d6\u540c\u4e00 kubeproxy \u5bb9\u5668\u7684\u65e5\u5fd7\uff0c\u6211\u4eec\u622a\u53d6\u4e86\u8fd9\u4e00\u8fc7\u7a0b\u4e2d Tunnel \u4e0a\u53cc\u5411 package \u548c bytes \u603b\u91cf\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image",src:r(44640).A+"",width:"643",height:"98"})}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u4e0a\u8868\u6240\u793a\uff0c\u901a\u8fc7\u4f7f\u7528 ANP\uff0c \u603b\u4f20\u8f93\u6570\u636e\u91cf\u4e0b\u964d\u4e86 29.93%\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u7ecf\u8fc7\u957f\u65f6\u95f4\u8fd0\u884c\uff0c\u5bb9\u5668\u7684\u65e5\u5fd7\u6587\u672c\u5e38\u5e38\u53ef\u4ee5\u8fbe\u5230\u5341\u51e0\u5146\uff0c\u4e3a\u4e86\u6a21\u62df\u83b7\u53d6\u5927\u6587\u672c\u65e5\u5fd7\u7684\u573a\u666f\u3002\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u5305\u542b 10.5M systemd log\uff08\u5373 journalctl\uff09\u7684 ubuntu \u5bb9\u5668\uff0c\u540c\u6837\u6211\u4eec\u5206\u522b\u4f7f\u7528\u539f\u751f TCP \u8fde\u63a5\u548c ANP \u4f20\u8f93\u8be5\u65e5\u5fd7\u6587\u4ef6\uff0c\u5e76\u6d4b\u91cf\u4e86 Tunnel \u4e0a\u7684\u6570\u636e\u603b\u91cf\n",(0,s.jsx)(n.img,{alt:"image",src:r(98270).A+"",width:"643",height:"97"})]}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u4e0a\u8868\u6240\u793a\uff0c\u5728\u65e5\u5fd7\u6587\u672c\u8f83\u5927\u7684\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7\u4f7f\u7528 ANP\uff0c \u603b\u4f20\u8f93\u6570\u636e\u91cf\u4e0b\u964d\u4e86 40.85%\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u7531\u6b64\u53ef\u89c1\uff0c\u76f8\u8f83\u4e8e\u539f\u751f TCP \u8fde\u63a5\uff0cANP \u4e0d\u4ec5\u80fd\u63d0\u4f9b\u66f4\u9ad8\u7684\u4f20\u8f93\u7a33\u5b9a\u6027\uff0c\u8fd8\u53ef\u4ee5\u5927\u5e45\u964d\u4f4e\u516c\u7f51\u6d41\u91cf\u3002\u8003\u8651\u5230\u8fb9\u7f18\u96c6\u7fa4\u52a8\u8f84\u4e0a\u4e07\u7684\u8282\u70b9\u89c4\u6a21\uff0c\u65b0\u7684\u89e3\u51b3\u65b9\u6848\u5c06\u5e2e\u52a9\u7528\u6237\u5728\u516c\u7f51\u6d41\u91cf\u65b9\u9762\u8282\u7ea6\u5927\u91cf\u5f00\u9500\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["##Yurttunnel\u7cfb\u7edf\u67b6\u6784\n",(0,s.jsx)(n.img,{alt:"image",src:r(38761).A+"",width:"798",height:"626"})]}),"\n",(0,s.jsx)(n.p,{children:"\u7efc\u4e0a\uff0cYurttunnel \u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u7ec4\u4ef6\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Yurttunnel Server - \u8d1f\u8d23\u5c06 apiserver\uff0cprometheus\uff0cmetrics server \u7b49\u7ba1\u63a7\u7ec4\u4ef6\u53d1\u5f80\u8282\u70b9\u7684\u8bf7\u6c42\uff0c\u8f6c\u53d1\u81f3\u5bf9\u5e94\u7684 agent\u3002\u5177\u4f53\u5305\u62ec\u4ee5\u4e0b\u5b50\u7ec4\u4ef6\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ANP Proxy Server - \u5bf9 ANP gRPC server \u7684\u5c01\u88c5\uff0c\u8d1f\u8d23\u7ba1\u7406\u4e0e Yurttunnel Agent \u4e4b\u95f4\u7684\u957f\u8fde\u63a5\uff0c\u5e76\u8f6c\u53d1\u8bf7\u6c42\u3002"}),"\n",(0,s.jsx)(n.li,{children:"Iptable Manager - \u4fee\u6539\u7ba1\u63a7\u8282\u70b9\u7684 DNAT \u89c4\u5219\uff0c\u4ee5\u786e\u4fdd\u7ba1\u63a7\u7ec4\u4ef6\u7684\u8bf7\u6c42\u80fd\u88ab\u8f6c\u53d1\u81f3 Yurttunnel Server\u3002"}),"\n",(0,s.jsx)(n.li,{children:"Cert Manager - \u4e3a Yurttunnel Server \u751f\u6210 TLS \u8bc1\u4e66\u3002"}),"\n",(0,s.jsx)(n.li,{children:"Request Interceptor - \u5c06 KAS \u5bf9\u8282\u70b9\u7684 HTTP \u8bf7\u6c42\u5c01\u88c5\u5230\u7b26\u5408 ANP \u89c4\u5219\u7684 gRPC \u5305\u91cc\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Yurttunnel Agent - \u4e0e Yurttunnel Server \u4e3b\u52a8\u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u5c06 Yurttunnel Server \u53d1\u6765\u7684\u8bf7\u6c42\u8f6c\u53d1\u7ed9 Kubelet\u3002\u5177\u4f53\u5305\u62ec\u4e24\u4e2a\u5b50\u7ec4\u4ef6\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ANP Proxy Agent - \u5bf9 ANP gRPC agent \u7684\u5c01\u88c5\uff0c\u76f8\u8f83\u4e8e\u4e0a\u6e38\uff0c\u6211\u4eec\u989d\u5916\u52a0\u5165\u4e86 gzip compressor \u4ee5\u538b\u7f29\u6570\u636e\u3002"}),"\n",(0,s.jsx)(n.li,{children:"Cert Manager - \u4e3a Yurttunnel Agent \u751f\u6210 TLS \u8bc1\u4e66\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Yurttunnel Server Service - \u901a\u5e38\u662f\u4e00\u4e2a SLB\uff0c\u8d1f\u8d23\u5c06\u7ba1\u63a7\u7ec4\u4ef6\u53d1\u6765\u7684\u8bf7\u6c42\u5206\u53d1\u7ed9\u5408\u9002\u7684 Yurttunnel Server \u526f\u672c\uff0c\u4fdd\u8bc1 Yurttunnel \u7684\u9ad8\u53ef\u7528\u548c\u8d1f\u8f7d\u5747\u8861\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\u603b\u7ed3\u548c\u5c55\u671b",children:"\u603b\u7ed3\u548c\u5c55\u671b"}),"\n",(0,s.jsx)(n.p,{children:"Yurttunnel \u4f5c\u4e3a OpenYurt \u8fd1\u671f\u5f00\u6e90\u7684\u91cd\u8981\u7ec4\u4ef6\uff0c\u6253\u901a\u4e86 OpenYurt \u96c6\u7fa4\u7684\u4e91\u8fb9\u901a\u9053\uff0c\u4e3a\u8fb9\u7f18\u96c6\u7fa4\u4e0a\u7684\u5bb9\u5668\u8fd0\u7ef4\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7edf\u4e00\u7684\u5165\u53e3\u3002\u901a\u8fc7\u5bf9\u4e0a\u6e38\u89e3\u51b3\u65b9\u6848\u8fdb\u884c\u6539\u9020\uff0cYurttunnel \u4e0d\u4ec5\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u4f20\u8f93\u7a33\u5b9a\u6027\uff0c\u4e5f\u5927\u5e45\u964d\u4f4e\u4e86\u6570\u636e\u4f20\u8f93\u91cf\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://mp.weixin.qq.com/s/nRUv4u9JbiIdrUPB_cZOBg",children:"\u539f\u6587\u94fe\u63a5"})})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},38761:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/Yurttunnel_arch-a35ea31101910abdd501f7313b7d0a43.png"},44640:(e,n,r)=>{r.d(n,{A:()=>t});const t="data:image/png;base64,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"},68282:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/kubectl-a986c3e8d3b680dd93899fce88a92821.png"},98270:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/large_log-134be99fb1d206593ae4701ab02ec08a.png"},18106:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/proxy_server_agent-58a080cbcdc31c0c7b82a500d94f9849.png"},46284:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/yurttunnel-37d6b1940619816205bf637ecda07532.png"},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>u});var t=r(96540);const s={},l=t.createContext(s);function i(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function u(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(l.Provider,{value:n},e.children)}},23887:e=>{e.exports=JSON.parse('{"permalink":"/zh/blog/Build-side-efficient-collaborative-network","editUrl":"https://github.com/openyurtio/openyurt.io/tree/master/blog/blog/2020-11-06-Build-side-efficient-collaborative-network.md","source":"@site/i18n/zh/docusaurus-plugin-content-blog/2020-11-06-Build-side-efficient-collaborative-network.md","title":"\u5982\u4f55\u6784\u5efaKubernetes\u539f\u751f\u4e91\u8fb9\u9ad8\u6548\u534f\u540c\u7f51\u7edc","description":"\u5bfc\u8bfb\uff1aOpenYurt\u662f\u963f\u91cc\u5df4\u5df4\u5f00\u6e90\u7684\u4e91\u8fb9\u534f\u540c\u4e00\u4f53\u5316\u67b6\u6784\uff0c\u4e0e\u540c\u7c7b\u5f00\u6e90\u65b9\u6848\u76f8\u6bd4\uff0cOpenYurt\u62e5\u6709\u53ef\u5b9e\u73b0\u8fb9\u7f18\u8ba1\u7b97\u5168\u573a\u666f\u8986\u76d6\u7684\u80fd\u529b\u3002","date":"2020-11-06T00:00:00.000Z","tags":[{"inline":true,"label":"yurttunnel","permalink":"/zh/blog/tags/yurttunnel"}],"readingTime":20.095,"hasTruncateMarker":false,"authors":[{"name":"Chao Zheng","title":"Maintainer of OpenYurt","url":"https://github.com/charleszheng44","imageURL":"https://github.com/charleszheng44.png","key":"charleszheng44","page":null}],"frontMatter":{"slug":"Build-side-efficient-collaborative-network","title":"\u5982\u4f55\u6784\u5efaKubernetes\u539f\u751f\u4e91\u8fb9\u9ad8\u6548\u534f\u540c\u7f51\u7edc","authors":["charleszheng44"],"tags":["yurttunnel"]},"unlisted":false,"prevItem":{"title":"\u5728\u6811\u8393\u6d3e\u4e0a\u73a9\u8f6c OpenYurt","permalink":"/zh/blog/Play-with-OpenYurt-on-Raspberry-Pi"},"nextItem":{"title":"\u4ece\u8fb9\u7f18\u81ea\u6cbb\u770bYurtHub\u7684\u6269\u5c55\u80fd\u529b","permalink":"/zh/blog/Expansion-capability-of-Yurthub"}}')}}]);